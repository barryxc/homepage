---
title: sql执行顺序
date: 2023-12-12 00:18:13
tags:
category:
---

MySQL中的SQL语句执行顺序，通常指的是查询（SELECT）语句的各个组成部分的逻辑执行顺序。虽然我们按照一定的语法顺序编写SQL语句，但是数据库系统在查询优化和执行过程中，并不是按照我们编写的顺序执行的。

以下是一个典型的SELECT语句的编写顺序：

```
1 SELECT
2 FROM
3 WHERE
4 GROUP BY
5 HAVING
6 ORDER BY
7 LIMIT
```

然而，MySQL实际执行这些操作的顺序大致如下：

1. `FROM`：确定要从哪个表（或者多个表的连接）中检索数据。
2. `ON`：应用JOIN条件，用于多个表的情况。
3. `JOIN`：如果有多个表需要连接，会在这个阶段进行。
4. `WHERE`：根据指定的条件对数据进行过滤。
5. `GROUP BY`：将数据分组，通常用于聚合函数（如COUNT, SUM, AVG等）。
6. `HAVING`：对分组后的结果进行过滤，通常与`GROUP BY`联合使用。
7. `SELECT`：选取表中的特定列，如果有表达式或者聚合函数，也会在这一步计算。
8. `DISTINCT`：去除重复的行，保证查询结果的唯一性。
9. `ORDER BY`：对查询结果进行排序，这一步通常在所有的行被选取之后进行。
10. `LIMIT`：限制查询结果的数量，通常用于分页。

![img](https://intranetproxy.alipay.com/skylark/lark/0/2022/png/3756563/1646040380722-35134ac9-0435-4374-9914-8a7efca59682.png)

需要注意的是，执行顺序并不是绝对固定的，数据库优化器可能会根据各种因素（如索引的存在，表的大小等）对执行计划进行调整，以提高查询的效率。因此，上述顺序应当被视为一种逻辑执行顺序，而不是实际的物理执行顺序。
